module forwarding(
  output reg sr1_ex,
  output reg sr1_wb,
  output reg sr2_ex,
  output reg sr2_wb,
  input [2:0] d_ex,
  input [2:0] d_wb,
  input wb_ex,
  input wb_wb,
  input [15:0] imem,
  input load,
  input CLK,
  input RSTN
  );
  always @(posedge CLK or negedge RSTN)
  begin
    if (!RSTN) begin
      q <= 0;
    end
    else begin
 	sr1_ex <= 0;
	sr2_ex <= 0;
	sr1_wb <= 0;
	sr2_wb <= 0;
      if (load) begin
        if (d_ex == imem[13:11] && wb_ex == 1) begin
        sr1_ex <= 1;
	end
        else if (d_ex == imem[13:11] && wb_ex == 1 ) begin
        sr2_ex <= 1;
	end
	else if (d_wb == imem[13:11] && wb_wb == 1 ) begin
        sr1_wb <= 1;
	end
	else if (d_wb == imem[13:11] && wb_wb == 1) begin
        sr2_wb <= 1;
	end
      end
    end
  end
endmodule